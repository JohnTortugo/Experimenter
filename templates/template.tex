% Original author of the front page: Jonathan Ward
\documentclass[11pt]{article} 

\usepackage{amsmath} 		% AMS Math Package
\usepackage{amsthm} 		% Theorem Formatting
\usepackage{amssymb} 		% Math symbols such as \mathbb
\usepackage{graphicx} 		% Allows for eps images
\usepackage{multicol} 		% Allows for multiple columns
\usepackage[dvips,letterpaper,margin=1in,bottom=1in]{geometry}
\usepackage{hyperref}
\usepackage{mathrsfs}
\usepackage{amsmath,amscd}
\usepackage[all,cmtip]{xy}
\usepackage{bbm}
\usepackage{fancyhdr}
\usepackage{datetime}
\usepackage{tikz,pgfplots}
\usepackage{filecontents}
    \usepgfplotslibrary{groupplots}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{patterns}


% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Define bar chart colors
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{corBdxLine}{HTML}{8258FA}
\definecolor{corBdxFill}{HTML}{BCA9F5}

\definecolor{corDswpLine}{HTML}{FE2E2E}
\definecolor{corDswpFill}{HTML}{F78181}

\definecolor{corCrossLine}{HTML}{04B45F}
\definecolor{corCrossFill}{HTML}{00FF80}

\definecolor{corCrossUnrolledLine}{HTML}{545454}
\definecolor{corCrossUnrolledFill}{HTML}{9D9D9D}


\pgfplotsset{
	compat=newest,
    discard if/.style 2 args={
        x filter/.code={
            \edef\tempa{\thisrow{#1}}
            \edef\tempb{#2}
            \ifx\tempa\tempb
                \def\pgfmathresult{inf}
            \fi
        }
    },
    discard if not/.style 2 args={
        x filter/.code={
            \edef\tempa{\thisrow{#1}}
            \edef\tempb{#2}
            \ifx\tempa\tempb
            \else
                \def\pgfmathresult{inf}
            \fi
        }
    }
}





% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Create title page
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand*{\titleGM}{\begingroup 								% Create the command for including the title page in the document
\hbox{ 															% Horizontal box
	\hspace*{0.1\textwidth} 									% Whitespace to the left of the title page
	\rule{1pt}{\textheight} 									% Vertical line
	\hspace*{0.05\textwidth} 									% Whitespace between the vertical line and title page text
	\parbox[b]{0.75\textwidth}{ 								% Paragraph box which restricts text to less than the width of the page
		{\noindent\Huge\bfseries The Template \\}\\[2\baselineskip] 	% Title
		{\large \textit{The Topic}}\\[4\baselineskip] 					% Tagline or further description
		{\large \textsc{ Divino Cesar}}\\[0.5\baselineskip] 				% Author name
		{\large \textbf{ divcesar@gmail.com }}				 			% Author email address

		\vspace{0.5\textheight} 										% Whitespace between the title block and the publisher
		{\noindent Computer Systems Lab}\\[\baselineskip] 						% Publisher and logo
		{\noindent University of Campinas, Sao Paulo, \today.}\\[\baselineskip] 						% Publisher and logo
	}
}
\endgroup}



% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fancy header/footers
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{fancy}
\lhead{Guides and tutorials}
\rhead{\thepage}
\lfoot{}
\rfoot{}
\cfoot{}
 
\renewcommand{\headrulewidth}{2pt}
\renewcommand{\footrulewidth}{1pt}




% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Here begins the text
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\thispagestyle{empty}
\titleGM

\section{Introduction}
\newpage

\section{Environment}
\newpage

\section{Results}

	\subsection{First experiment}

		\begin{figure}[!h]
			\begin{tikzpicture}
				\begin{groupplot}[
					ybar,
					ymajorgrids				= true,
					width  					= \textwidth,
					ylabel					= {Solubility [g per 100 g water]},
					major x tick style 	 	= transparent,
					xtick					= data,
					x tick label style		= {
						rotate=90,
						anchor=east,
					},
					symbolic x coords = {
											Ferret,
											Bodytrack,
											Bzip2,
											MCF,
											Hmmer,
											H263Dec,
											KS,
											Otter,
											Geomean,
										},
					legend cell align 	 = left,
					legend image code/.code={%
						\draw[#1] (-0.1cm,-0.1cm) rectangle (0.10cm,0.2cm);
					}
				]


				\nextgroupplot[bar width=8pt, enlarge x limits=0.08]

				\addplot[style={corBdxLine, fill=corBdxFill, mark=none}]  table [x=benchmark, y=bdx] {intel.csv};
				\addplot[style={corDswpLine,fill=corDswpFill,mark=none}]  table [x=benchmark, y=dswp] {intel.csv};
				\addplot [style={corCrossLine,fill=corCrossFill,mark=none}]  table [x=benchmark, y=doax] {intel.csv};
				\addplot [style={corCrossUnrolledLine,fill=corCrossUnrolledFill,mark=none}]  table [x=benchmark, y=doaxu] {intel.csv};


				\legend{BDX, DSWP, DOAX, DOAX-U}
				\end{groupplot}
			\end{tikzpicture}

			\caption{First figure of the template}
		\end{figure}


	\newpage
	\subsection{Second experiment}


		% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		% PGF_PLOT RESULTS_TABLE_1
		% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		\begin{filecontents}{arm.csv}
		x redi redi_err bluo bluo_err 
		0 33.1 5        63.1 5 
		10 37.5 5        67.5 5 
		20 42 5          82 5 
		30 47.8 5        87.8 5 
		40 54.6 5        104.6 5 
		60 71.8 5        141.8 5 
		80 93.8 5        183.8 5 
		100 124 5       244 5 
		\end{filecontents}


		% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		% Figure ...
		% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		\begin{figure}[!h]

			\begin{tikzpicture}
				\begin{axis}[
					title={Temperature dependence of CuSO$_4\cdot$5H$_2$O solubility},
					xlabel={Temperature},
					ylabel={Solubility [g per 100 g water]},
					width = \textwidth,
					ymajorgrids=true,
					grid style=dashed,
				]
						 
					\addplot[color=black, mark=square] 
					plot [error bars/.cd, y dir = both, y explicit]
					table[row sep=crcr, x=x, y=redi, y error=redi_err] {arm.csv};
	
					\addplot[color=red, mark=square] 
					plot [error bars/.cd, y dir = both, y explicit]
					table[row sep=crcr, x=x, y=bluo, y error=bluo_err] {arm.csv};


					\legend{CuSO$_4\cdot$5H$_2$O, Ximphorimfola}

				\end{axis}
			\end{tikzpicture}

		\end{figure}





	% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% PGF_PLOT RESULTS_TABLE_1
	% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\begin{filecontents}{intel.csv}
	benchmark    	bdx   dswp    doax    doaxu
	Ferret  		1.60 1.60 1.60 1.60
	Bodytrack  		2.00 1.00 2.00 2.00
	Hmmer   		0.91 0.20 0.09 0.46
	MCF    			1.60 0.52 0.73 1.45
	Bzip2   		1.00 1.00 1.00 1.00
	H263Dec   		1.23 0.66 0.16 0.97
	KS   			0.96  0.92     0.88    0.94
	Otter   		0.67  0.54     0.52    0.61
	Geomean     	1.33 0.69 0.56 1.12
	\end{filecontents}





\end{document}
